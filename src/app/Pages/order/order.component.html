<app-navbar></app-navbar>

<div class="container pt-5">
  <div class="mt-3 pt-2">
    <p class="pcart">Cart <i class="fa-solid fa-cart-shopping"></i></p>
    <div class="row">
      <div class="item  col-md-8" *ngIf="cartProduct">
        <div class="card mt-2 pt-3" *ngFor="let p of cartProduct.userCart.cartItems">
          <div class="row parent text-center">

                <div class="imgproduct col-lg-3 col-md-6 col-sm-9">
                  <img [src]="p.product.imageCover" />
                </div>
                <div class="info col-lg-5 col-md-6 col-sm-9">

                        <h5>Name:{{p.product.title}}</h5>
                        <p>Price:{{ p.product.price }} EGP</p>
                        <p>Rate:{{ p.product.ratingsAverage }} </p>
                        <p>description:{{p.product.description}}</p>

                </div>

                <div class="mohamed col-lg-3 col-md-6 col-sm-9">
                  <h5 >Quantity</h5>
                  <div class="controlQuantity d-flex ">
                    <button
                      class="btn  increment"
                      (click)="incrementProduct(p)"
                    >
                      <i class="fa-bold fa-plus"></i>
                    </button>
                    <span class="quantity">{{ p.quantity }}</span>
                    <button
                      class="btn  decrement"
                      (click)="decrementProduct(p)"
                    >
                      <i class="fa-solid fa-minus"></i>
                    </button>
                  </div>
                  <div class="proccese col-lg-3 col-md-6 col-sm-9">

                      <button
                        class="remove btn"
                        type="submit"
                       (click)="deleteProductIncart(p._id)"
                      >
                      <i class="fa-sharp fa-solid fa-trash"></i>
                      </button>
                  </div>
                  <p class="mt-3">Total price is {{ calcProductTotal(p) }} EGP</p>

                </div>

          </div>
        </div>
      </div>

      <div class="col-lg-3 mt-2 col-md-8 total">
        <img src="../../../assets/image/cart.avif" />
        <h5>{{cartProduct.userCart.totalPrice }}</h5>
        <a routerLink="/checkout"><button class="btn btn-danger">CheckOut</button></a>
        <!-- <h5>
          Total Price In Cart Is:
          {{
            calcTotal(cartProduct) > 0
              ? calcTotal(cartProduct)
              : "Your cart is empty!"
          }}
        </h5> -->
      </div>
    </div>
  </div>
</div>
